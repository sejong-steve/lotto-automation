# purchase_module.py

import os
import random
from dotenv import load_dotenv
from notify_module import send_telegram
# from selenium import webdriver   # ì‹¤ì œë¡œ Seleniumì„ ì“°ì‹¤ ê²½ìš° ì´ ì¤„ì„ ì‚´ë¦¬ì„¸ìš”

load_dotenv()

def purchase_lotto(amount: int = 5000):
    """
    amount ì›ì–´ì¹˜ Quick-Pick(ìë™ë²ˆí˜¸) ë¡œë˜ êµ¬ë§¤ í›„,
    ìƒì„±ëœ í‹°ì¼“ ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ê³  ì•Œë¦¼ì„ ë³´ëƒ…ë‹ˆë‹¤.
    """
    # 1ì¥ë‹¹ 1000ì›ì´ë‹ˆ, amount//1000 ì¥ ìƒì„±
    num_tickets = amount // 1000
    tickets = []
    for _ in range(num_tickets):
        ticket = sorted(random.sample(range(1, 46), 6))
        tickets.append(ticket)

    # ìƒì„±ëœ ë²ˆí˜¸ ì¶œë ¥
    print(f"ğŸ”¢ Generated tickets: {tickets}")

    # --- TODO: ì—¬ê¸°ì— ì‹¤ì œ Selenium êµ¬ë§¤ ë¡œì§ ì‚½ì… ---
    # driver = webdriver.Chrome()
    # ... ë¡œê·¸ì¸ â†’ êµ¬ë§¤ ìš”ì²­ ...
    # driver.quit()

    # êµ¬ë§¤ ì™„ë£Œ ì§í›„ í…”ë ˆê·¸ë¨ ì•Œë¦¼
    send_telegram(f"âœ… ë¡œë˜ êµ¬ë§¤ ì™„ë£Œ! ë²ˆí˜¸: {tickets}")

    return tickets

if __name__ == "__main__":
    purchase_lotto()